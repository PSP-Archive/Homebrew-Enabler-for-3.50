PSPSDK=$(shell psp-config --pspsdk-path)
VSHBRIDGE_OBJS = sceVshBridge_0000.o sceVshBridge_0001.o sceVshBridge_0002.o sceVshBridge_0003.o sceVshBridge_0004.o sceVshBridge_0005.o sceVshBridge_0006.o sceVshBridge_0007.o sceVshBridge_0008.o sceVshBridge_0009.o sceVshBridge_0010.o sceVshBridge_0011.o sceVshBridge_0012.o sceVshBridge_0013.o sceVshBridge_0014.o sceVshBridge_0015.o sceVshBridge_0016.o sceVshBridge_0017.o sceVshBridge_0018.o sceVshBridge_0019.o sceVshBridge_0020.o sceVshBridge_0021.o sceVshBridge_0022.o sceVshBridge_0023.o sceVshBridge_0024.o sceVshBridge_0025.o sceVshBridge_0026.o sceVshBridge_0027.o sceVshBridge_0028.o sceVshBridge_0029.o sceVshBridge_0030.o sceVshBridge_0031.o sceVshBridge_0032.o sceVshBridge_0033.o sceVshBridge_0034.o sceVshBridge_0035.o sceVshBridge_0036.o sceVshBridge_0037.o sceVshBridge_0038.o sceVshBridge_0039.o sceVshBridge_0040.o sceVshBridge_0041.o sceVshBridge_0042.o sceVshBridge_0043.o sceVshBridge_0044.o sceVshBridge_0045.o sceVshBridge_0046.o sceVshBridge_0047.o sceVshBridge_0048.o sceVshBridge_0049.o sceVshBridge_0050.o sceVshBridge_0051.o sceVshBridge_0052.o sceVshBridge_0053.o sceVshBridge_0054.o sceVshBridge_0055.o sceVshBridge_0056.o sceVshBridge_0057.o sceVshBridge_0058.o sceVshBridge_0059.o sceVshBridge_0060.o sceVshBridge_0061.o sceVshBridge_0062.o sceVshBridge_0063.o \
sceVshBridge_0064.o sceVshBridge_0065.o sceVshBridge_0066.o sceVshBridge_0067.o sceVshBridge_0068.o sceVshBridge_0069.o sceVshBridge_0070.o sceVshBridge_0071.o sceVshBridge_0072.o sceVshBridge_0073.o sceVshBridge_0074.o sceVshBridge_0075.o sceVshBridge_0076.o sceVshBridge_0077.o sceVshBridge_0078.o sceVshBridge_0079.o sceVshBridge_0080.o sceVshBridge_0081.o sceVshBridge_0082.o sceVshBridge_0083.o sceVshBridge_0084.o sceVshBridge_0085.o sceVshBridge_0086.o sceVshBridge_0087.o sceVshBridge_0088.o sceVshBridge_0089.o sceVshBridge_0090.o sceVshBridge_0091.o sceVshBridge_0092.o sceVshBridge_0093.o sceVshBridge_0094.o sceVshBridge_0095.o sceVshBridge_0096.o sceVshBridge_0097.o sceVshBridge_0098.o sceVshBridge_0099.o sceVshBridge_0100.o sceVshBridge_0101.o sceVshBridge_0102.o sceVshBridge_0103.o sceVshBridge_0104.o sceVshBridge_0105.o sceVshBridge_0106.o sceVshBridge_0107.o sceVshBridge_0108.o sceVshBridge_0109.o sceVshBridge_0110.o sceVshBridge_0111.o sceVshBridge_0112.o sceVshBridge_0113.o sceVshBridge_0114.o sceVshBridge_0115.o sceVshBridge_0116.o sceVshBridge_0117.o sceVshBridge_0118.o sceVshBridge_0119.o sceVshBridge_0120.o sceVshBridge_0121.o sceVshBridge_0122.o sceVshBridge_0123.o sceVshBridge_0124.o sceVshBridge_0125.o sceVshBridge_0126.o sceVshBridge_0127.o sceVshBridge_0128.o sceVshBridge_0129.o sceVshBridge_0130.o sceVshBridge_0131.o sceVshBridge_0132.o sceVshBridge_0133.o sceVshBridge_0134.o sceVshBridge_0135.o 

%.o: sceVshBridge.S
	psp-gcc -g -O2 -G0 -Wall -I${PSPSDK}/include -DF_$* $< -c -o $@

all: $(VSHBRIDGE_OBJS)
	psp-ar cru libpspvshbridge_350.a $(VSHBRIDGE_OBJS)
	psp-ranlib libpspvshbridge_350.a
	rm $(VSHBRIDGE_OBJS)

clean:
	rm -f *.o
	rm -f *.a
